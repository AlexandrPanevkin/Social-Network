"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[605],{4605:function(e,n,r){r.r(n),r.d(n,{default:function(){return q}});var t=r(5671),s=r(3144),o=r(136),a=r(5716),i=r(2791),u=r(364),l=r(1358),c="Users_users__3R94J",f="Users_usersContainer__8VhFc",g="Users_userInfoBox__Va24X",p="Users_userIcon__Nsn-j",h="Users_button__54q+p";var d=r(181);function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,s,o=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);a=!0);}catch(u){i=!0,s=u}finally{try{a||null==r.return||r.return()}finally{if(i)throw s}}return o}}(e,n)||(0,d.Z)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P={selectedPage:"Paginator_selectedPage__qpUU-",page:"Paginator_page__YjSi-"},v=r(184),w=(0,i.memo)((function(e){for(var n=e.totalItemsCount,r=e.pageSize,t=e.setPage,s=e.currentPage,o=e.portionSize,a=void 0===o?10:o,u=Math.ceil(n/r),l=[],c=1;c<=u;c++)l.push(c);var f=Math.ceil(u/a),g=m((0,i.useState)(1),2),p=g[0],h=g[1],d=(p-1)*a+1,w=p*a;return(0,v.jsxs)("div",{className:P.pages,children:[p>1&&(0,v.jsx)("button",{onClick:function(){h(p-1)},children:"PREV"}),l.filter((function(e){return e>=d&&e<=w})).map((function(e){return(0,v.jsx)("span",{onClick:function(){t(e)},className:s===e?P.selectedPage:P.page,children:e},e)})),f>p&&(0,v.jsx)("button",{onClick:function(){return h(p+1)},children:"NEXT"})]})}));var j=r.p+"static/media/avatar.754f731010d3d153da3604f9785bf35f.svg",_=r(1523),x=(0,i.memo)((function(e){var n=e.user,r=e.unfollow,t=e.follow;return(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("div",{children:(0,v.jsx)(_.OL,{to:"/profile/"+n.id,children:(0,v.jsx)("img",{className:p,src:null!==n.photos.small?n.photos.small:j})})}),(0,v.jsxs)("div",{className:g,children:[(0,v.jsxs)("div",{children:["Name: ",n.name]}),(0,v.jsxs)("div",{children:["Status: ",n.status]}),(0,v.jsx)("div",{children:n.followed?(0,v.jsx)("button",{className:h,onClick:function(){r(n.id)},children:"Unfollow"}):(0,v.jsx)("button",{className:h,onClick:function(){t(n.id)},children:"Follow"})})]})]})})),C=(0,i.memo)((function(e){var n=e.users,r=e.totalItemsCount,t=(e.followingInProgress,e.follow),s=e.unfollow,o=e.setPage,a=e.pageSize,i=e.currentPage;return(0,v.jsxs)("div",{className:c,children:[(0,v.jsx)(w,{totalItemsCount:r,pageSize:a,setPage:o,currentPage:i}),n.map((function(e){return(0,v.jsx)(x,{follow:t,unfollow:s,user:e},e.id)}))]})})),I=r(9490),y=r(7781),S=function(e){return e.usersPage.users},b=function(e){return e.usersPage.pageSize},N=function(e){return e.usersPage.totalItemsCount},k=function(e){return e.usersPage.currentPage},U=function(e){return e.usersPage.isFetching},z=function(e){return e.usersPage.followingInProgress},F=function(e){(0,o.Z)(r,e);var n=(0,a.Z)(r);function r(e){var s;return(0,t.Z)(this,r),(s=n.call(this,e)).onPageChange=function(e){var n=s.props.pageSize;s.props.requestUsers(e,n)},s}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,r=e.pageSize;this.props.requestUsers(n,r)}},{key:"render",value:function(){return(0,v.jsxs)(v.Fragment,{children:[this.props.isFetching&&(0,v.jsx)(I.p,{}),!this.props.isFetching&&(0,v.jsx)(C,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,setPage:this.onPageChange,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),r}(i.Component),q=(0,y.qC)((0,u.$j)((function(e){return{users:S(e),pageSize:b(e),totalItemsCount:N(e),currentPage:k(e),isFetching:U(e),followingInProgress:z(e)}}),{follow:l.ZN,unfollow:l.fv,setPage:l.YA,followingInProgress:l.Gv,requestUsers:l.D7}))(F)}}]);
//# sourceMappingURL=605.42f316f8.chunk.js.map